---

import BaseHead from "../components/BaseHead.astro";
import "../styles/global.css";
import { buttonVariants } from "../components/ui/button";
import { cn } from "../lib/utils";
import { Badge } from "../components/ui/badge";

interface Props {
  title?: string;
  description?: string;
}
const { title = "Nathan Bullock — My Website", description = "" } = Astro.props;

// Simple nav config. Add/remove links here.
const NAV_LINKS = [
  { href: "/", label: "Home" },
  { href: "/about/", label: "About" },
  { href: "/projects/", label: "Projects" },
  { href: "/status/", label: "Status" },
  { href: "/admin/", label: "Admin" },
  // add new routes here:
//  { href: "/test/", label: "Test" },
];

const currentPath = Astro.url.pathname;
const isActive = (href: string) => (href === "/" ? currentPath === "/" : currentPath.startsWith(href));
---



<!DOCTYPE html>
<html lang="en">
  <head>
    <BaseHead title={title} description={description} />
     <style is:global>
      :root{
       --bg: #0a0a0a;
       --card: #181818;
       --card-2: #111111;
       --fg: #f5f5f5;
       --muted: #b3b3b3;
       --link: #ff9100;
       --accent: #ff9100;
       --radius: 16px;
       --shadow: 0 12px 30px rgba(0,0,0,.55);
       --container: 1240px;
       --border: #ff9100;
       --outline: #ff9100;
  /* Force removal of leftover honeycomb pattern vars (seen in DevTools cache) */
  --hex-line: transparent !important;
  --hex-line-strong: transparent !important;
  --hxGlow: 0 !important;
        /* ✦ Subtle fancy background (vignette + slow aurora) */
        --fx-strength: .12;      /* overall aurora opacity (0–.25 sweet spot) */
        --fx-blur: 110px;        /* softness of the aurora glow */
        --fx-orange: 255 145 0;  /* accent */
        --fx-cyan: 80 170 255;   /* cool counter tint */
        --fx-mag: 255 70 160;    /* gentle magenta */
     }
     *{box-sizing:border-box}
     html,body{height:100%}
     body{
       margin:0;
       background: var(--bg);
       /* tiny top vignette + gentle center lift */
       background-image:
         radial-gradient(1200px 700px at 50% -10%, rgba(255,255,255,.045), transparent 60%),
         radial-gradient(900px 600px at 50% 120%, rgba(255,255,255,.035), transparent 65%);
       background-attachment: fixed, fixed;
       color:var(--fg);
       font:16px/1.6 system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,Noto Sans,sans-serif;
     }
     /* soft static glows painted behind content */
   body::before{
       content:"";
       position:fixed; inset:-12%;
       pointer-events:none; z-index:-1;
       background:
     radial-gradient(800px 520px at 18% 8%,  rgb(var(--fx-orange) / .10), transparent 80%),
     radial-gradient(700px 480px at 82% 14%, rgb(var(--fx-cyan)   / .07), transparent 80%),
     radial-gradient(720px 520px at 50% 110%, rgb(var(--fx-mag)    / .06), transparent 85%);
       filter: blur(42px) saturate(110%);
       opacity:.55;
     }
     /* register animating angle */
     @property --angle{ syntax: '<angle>'; initial-value: 0deg; inherits:false; }
     @keyframes spin-aurora{ to { --angle: 360deg; } }
     /* ultra-subtle animated aurora sheet */
     body::after{
       content:"";
       position:fixed; inset:-20%;
       pointer-events:none; z-index:-1;
       background:
         conic-gradient(from var(--angle),
           rgb(var(--fx-orange) / calc(var(--fx-strength) * .50)) 0deg,
           transparent 40deg,
           rgb(var(--fx-cyan)   / calc(var(--fx-strength) * .8)) 90deg,
           transparent 160deg,
           rgb(var(--fx-mag)    / calc(var(--fx-strength) * .75)) 210deg,
           transparent 300deg,
           rgb(var(--fx-orange) / calc(var(--fx-strength) * .50)) 360deg);
       filter: blur(var(--fx-blur)) saturate(110%);
       mix-blend-mode: screen;
       opacity: var(--fx-strength);
       animation: spin-aurora 42s linear infinite;
       will-change: transform, filter;
     }
     @media (prefers-reduced-motion: reduce){ body::after{ animation:none; } }
     @media (min-width: 1440px){
       :root{ --container: 1320px; }
     }
     .container{
       width:100%;
       max-width:min(var(--container), calc(100vw - 2.75rem));
       margin:0 auto;
       padding:clamp(2.25rem, 4vw, 3.5rem) clamp(1.75rem, 4.5vw, 3.25rem) clamp(4.25rem, 6vw, 5.5rem);
     }
     header{
       position:sticky;
       top:0;
       z-index:50;
       backdrop-filter:blur(6px);
       background:linear-gradient(to bottom,rgba(10,10,10,.9),rgba(10,10,10,.55));
       border-bottom:1px solid rgba(255,255,255,.12);
       box-shadow:0 2px 8px -2px rgba(0,0,0,.55);
     }
     .nav{
       display:flex;
       align-items:center;
       justify-content:space-between;
       max-width:var(--container);
       margin:0 auto;
       padding:clamp(.75rem, 2vw, .95rem) clamp(1.25rem, 3vw, 2.5rem)
     }
     .brand{
       display:flex;
       gap:.6rem;
       align-items:center;
       font-weight:800;
       color:var(--fg); /* Add this line to ensure correct color */
     }
     .dot{
       width:.6rem;
       height:.6rem;
       border-radius:999px;
       background:var(--accent);
       box-shadow:0 0 16px var(--accent)
     }
  /* Remove legacy nav link/button styles, use shadcn/ui */
  a{color:var(--link)}
     h1{
       font-size:clamp(2rem,2.6vw + 1.2rem,3.4rem);
       line-height:1.1;
       margin:0 0 .4rem;
       font-weight:900;
       color: var(--fg);
       letter-spacing: -1px;
     }
     h2{
       font-size:clamp(1.3rem,1.2vw + .9rem,1.8rem);
       margin:0 0 .75rem;
       font-weight:800
       color: var(--fg);
     }
     h3{
       font-size:1.05rem;
       margin:0 0 .25rem;
       font-weight:700
       color: var(--fg);
     }
     p{margin:0 0 .75rem}
     .muted{color:var(--muted)}

     /* Button and outline accent styles */
     .btn, .button, .shadcn-btn, .shadcn-outline, .shadcn-ui-outline {
       --_accent: var(--accent);
       --_btn-bg: linear-gradient(135deg,#141414,#1c1c1c);
       --_btn-border: var(--outline);
       --_btn-shadow: 0 0 0 1px rgba(255,145,0,.45), 0 0 18px -6px rgba(255,145,0,.55);
       position:relative;
       border:1px solid var(--_btn-border)!important;
       background:var(--_btn-bg)!important;
       color:#f7f7f5!important;
       box-shadow:var(--_btn-shadow);
       transition:background .25s,box-shadow .25s,border-color .25s,color .25s;
     }
     .btn:hover, .button:hover, .shadcn-btn:hover, .shadcn-outline:hover, .shadcn-ui-outline:hover {
       background:linear-gradient(135deg,#1f1f1f,#292929)!important;
       box-shadow:0 0 0 1px rgba(255,145,0,.65),0 0 26px -4px rgba(255,145,0,.65);
       color:#ffe7cc!important;
     }
     .btn[data-variant="ghost"], .shadcn-ghost {
       background:rgba(255,145,0,.05)!important;
       box-shadow:none;
       color:var(--accent)!important;
     }
     .btn[data-variant="ghost"]:hover, .shadcn-ghost:hover {
       background:rgba(255,145,0,.12)!important;
       color:#ffd199!important;
     }
     /* For shadcn/ui ghost variant */
     .shadcn-ghost {
       border: 1.5px solid var(--outline) !important;
       color: var(--accent) !important;
       background: transparent !important;
     }
     .shadcn-ghost:hover {
       background: var(--accent) !important;
       color: #181818 !important;
     }
     .hero{padding-top:3.5rem;padding-bottom:1.5rem}
     .badges{
       display:flex;
       flex-wrap:wrap;
       gap:.5rem;
       margin-top:.75rem
     }
  /* Remove legacy badge style, use shadcn/ui */
     .grid{
       display:grid;
       gap:1rem;
       grid-template-columns:1fr
     }
     @media(min-width:820px){
       .grid{grid-template-columns:repeat(3,1fr)}
     }
     .card{
       background:linear-gradient(180deg,var(--card),var(--card-2));
       border:1.5px solid var(--border);
       border-radius:var(--radius);
       padding:1rem;
       box-shadow:var(--shadow);
       transition:transform .15s,border-color .15s
     }
     .card:hover{
       transform:translateY(-2px);
       border-color:var(--accent);
     }
     a.card{
       color:inherit;
       text-decoration:none;
       display:block
     }
     .section{margin:2.2rem 0 1.2rem}
     .cta-row{
       display:flex;
       gap:.8rem;
       flex-wrap:wrap;
       margin-top:1rem
     }
  /* Remove legacy .btn styles, use shadcn/ui */
     footer{
       border-top:1px solid rgba(255,255,255,.12);
       margin-top:2.5rem
     }
     footer .inner{
       max-width:var(--container);
       margin:0 auto;
       padding:1.25rem;
       color:var(--muted);
       font-size:.9rem;
       text-align:center
     }
     .kbd{
       font:600 .8rem ui-monospace,SFMono-Regular,Menlo,monospace;
       background:#0d1117;
       border:1px solid rgba(255,255,255,.12);
       padding:.15rem .4rem;
       border-radius:6px;
       color:#e5e7eb
     }
    </style>
  </head>
  <body>
    <header>
      <nav class="nav">
        <div class="brand"><span class="dot"></span> <span>Nathan Bullock</span></div>
        <div class="flex gap-2">
          {NAV_LINKS.map(({ href, label }) => (
            <a
              href={href}
              aria-current={isActive(href) ? "page" : undefined}
              class={cn(
                buttonVariants({ variant: isActive(href) ? "default" : "ghost" }),
                isActive(href) ? "font-bold" : "",
      !isActive(href) && "border border-[var(--outline)] text-[var(--accent)] hover:text-[#ffd199] hover:border-[rgba(255,145,0,.65)] hover:bg-[rgba(255,145,0,.08)] transition-all"
              )}
            >
              {label}
            </a>
          ))}
        </div>
      </nav>
      <slot name="after-header" />
    </header>

    <main class="container">
      <slot />
    </main>

    <footer>
      <slot name="before-footer" />
      <div class="inner">© {new Date().getFullYear()} Nathan Bullock</div>
    </footer>
  </body>
</html>
