---

import BaseHead from "../components/BaseHead.astro";
import "../styles/global.css";
import { buttonVariants } from "../components/ui/button";
import { cn } from "../lib/utils";
import { Badge } from "../components/ui/badge";

interface Props {
  title?: string;
  description?: string;
}
const { title = "Nathan Bullock — My Website", description = "" } = Astro.props;

// Simple nav config. Add/remove links here.
const NAV_LINKS = [
  { href: "/", label: "Home" },
  { href: "/about/", label: "About" },
  { href: "/projects/", label: "Projects" },
  { href: "/status/", label: "Status" },
  { href: "/admin/", label: "Admin" },
  // add new routes here:
//  { href: "/test/", label: "Test" },
];

const currentPath = Astro.url.pathname;
const isActive = (href: string) => (href === "/" ? currentPath === "/" : currentPath.startsWith(href));
---



<!DOCTYPE html>
<html lang="en">
  <head>
    <BaseHead title={title} description={description} />
    <style is:global>
     :root{
       --bg: #0a0a0a;
       --card: #181818;
       --card-2: #111111;
       --fg: #f5f5f5;
       --muted: #b3b3b3;
       --link: #ff9100;
       --accent: #ff9100;
       --radius: 16px;
       --shadow: 0 12px 30px rgba(0,0,0,.55);
       --container: 1100px;
       --border: #ff9100;
       --outline: #ff9100;
     }
     *{box-sizing:border-box}
     html,body{height:100%}
     body{
       margin:0;
       background: var(--bg);
       color:var(--fg);
       font:16px/1.6 system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,Noto Sans,sans-serif;
     }
     .container{max-width:var(--container);margin:0 auto;padding:2rem 1.25rem 4rem}
     header{
       position:sticky;
       top:0;
       z-index:50;
       backdrop-filter:blur(6px);
       background:linear-gradient(to bottom,rgba(10,10,10,.9),rgba(10,10,10,.55));
       border-bottom:1px solid rgba(255,255,255,.12);
       box-shadow:0 2px 8px -2px rgba(0,0,0,.55);
     }
     .nav{
       display:flex;
       align-items:center;
       justify-content:space-between;
       max-width:var(--container);
       margin:0 auto;
       padding:.9rem 1.25rem
     }
     .brand{
       display:flex;
       gap:.6rem;
       align-items:center;
       font-weight:800;
       color:var(--fg); /* Add this line to ensure correct color */
     }
     .dot{
       width:.6rem;
       height:.6rem;
       border-radius:999px;
       background:var(--accent);
       box-shadow:0 0 16px var(--accent)
     }
  /* Remove legacy nav link/button styles, use shadcn/ui */
  a{color:var(--link)}
     h1{
       font-size:clamp(2rem,2.6vw + 1.2rem,3.4rem);
       line-height:1.1;
       margin:0 0 .4rem;
       font-weight:900;
       color: var(--fg);
       letter-spacing: -1px;
     }
     h2{
       font-size:clamp(1.3rem,1.2vw + .9rem,1.8rem);
       margin:0 0 .75rem;
       font-weight:800
       color: var(--fg);
     }
     h3{
       font-size:1.05rem;
       margin:0 0 .25rem;
       font-weight:700
       color: var(--fg);
     }
     p{margin:0 0 .75rem}
     .muted{color:var(--muted)}

     /* Button and outline accent styles */
     .btn, .button, .shadcn-btn, .shadcn-outline, .shadcn-ui-outline {
       --_accent: var(--accent);
       --_btn-bg: linear-gradient(135deg,#141414,#1c1c1c);
       --_btn-border: var(--outline);
       --_btn-shadow: 0 0 0 1px rgba(255,145,0,.45), 0 0 18px -6px rgba(255,145,0,.55);
       position:relative;
       border:1px solid var(--_btn-border)!important;
       background:var(--_btn-bg)!important;
       color:#f7f7f5!important;
       box-shadow:var(--_btn-shadow);
       transition:background .25s,box-shadow .25s,border-color .25s,color .25s;
     }
     .btn:hover, .button:hover, .shadcn-btn:hover, .shadcn-outline:hover, .shadcn-ui-outline:hover {
       background:linear-gradient(135deg,#1f1f1f,#292929)!important;
       box-shadow:0 0 0 1px rgba(255,145,0,.65),0 0 26px -4px rgba(255,145,0,.65);
       color:#ffe7cc!important;
     }
     .btn[data-variant="ghost"], .shadcn-ghost {
       background:rgba(255,145,0,.05)!important;
       box-shadow:none;
       color:var(--accent)!important;
     }
     .btn[data-variant="ghost"]:hover, .shadcn-ghost:hover {
       background:rgba(255,145,0,.12)!important;
       color:#ffd199!important;
     }
     /* For shadcn/ui ghost variant */
     .shadcn-ghost {
       border: 1.5px solid var(--outline) !important;
       color: var(--accent) !important;
       background: transparent !important;
     }
     .shadcn-ghost:hover {
       background: var(--accent) !important;
       color: #181818 !important;
     }
     .hero{padding-top:3.5rem;padding-bottom:1.5rem}
     .badges{
       display:flex;
       flex-wrap:wrap;
       gap:.5rem;
       margin-top:.75rem
     }
  /* Remove legacy badge style, use shadcn/ui */
     .grid{
       display:grid;
       gap:1rem;
       grid-template-columns:1fr
     }
     @media(min-width:820px){
       .grid{grid-template-columns:repeat(3,1fr)}
     }
     .card{
       background:linear-gradient(180deg,var(--card),var(--card-2));
       border:1.5px solid var(--border);
       border-radius:var(--radius);
       padding:1rem;
       box-shadow:var(--shadow);
       transition:transform .15s,border-color .15s
     }
     .card:hover{
       transform:translateY(-2px);
       border-color:var(--accent);
     }
     a.card{
       color:inherit;
       text-decoration:none;
       display:block
     }
     .section{margin:2.2rem 0 1.2rem}
     .cta-row{
       display:flex;
       gap:.8rem;
       flex-wrap:wrap;
       margin-top:1rem
     }
  /* Remove legacy .btn styles, use shadcn/ui */
     footer{
       border-top:1px solid rgba(255,255,255,.12);
       margin-top:2.5rem
     }
     footer .inner{
       max-width:var(--container);
       margin:0 auto;
       padding:1.25rem;
       color:var(--muted);
       font-size:.9rem;
       text-align:center
     }
     .kbd{
       font:600 .8rem ui-monospace,SFMono-Regular,Menlo,monospace;
       background:#0d1117;
       border:1px solid rgba(255,255,255,.12);
       padding:.15rem .4rem;
       border-radius:6px;
       color:#e5e7eb
     }
    </style>
  </head>
  <body>
    <header>
      <nav class="nav">
        <div class="brand"><span class="dot"></span> <span>Nathan Bullock</span></div>
        <div class="flex gap-2">
          {NAV_LINKS.map(({ href, label }) => (
            <a
              href={href}
              aria-current={isActive(href) ? "page" : undefined}
              class={cn(
                buttonVariants({ variant: isActive(href) ? "default" : "ghost" }),
                isActive(href) ? "font-bold" : ""
              )}
            >
              {label}
            </a>
          ))}
        </div>
      </nav>
      <slot name="after-header" />
    </header>

    <main class="container">
      <slot />
    </main>

    <footer>
      <slot name="before-footer" />
      <div class="inner">© {new Date().getFullYear()} Nathan Bullock</div>
    </footer>
  </body>
</html>
