---
import SiteLayout from "../layouts/SiteLayout.astro";
---

<SiteLayout title="Home — Nathan Bullock" description="My Website!.">
  <section class="hero flex flex-col items-center justify-center min-h-[70vh] px-2">
    <h1 class="text-4xl md:text-6xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-sky-400 via-blue-500 to-cyan-300 drop-shadow-lg mb-2">
      Nathan Bullock
    </h1>
    <p class="muted text-lg md:text-xl mb-8 text-center max-w-2xl">
      Homelab builder, cloud tinkerer, and full-stack explorer. Welcome to my digital playground—where ideas become projects and projects become learning adventures.
    </p>

    <div class="w-full max-w-2xl mb-8">
      <div id="terminal" class="bg-[#181c20] border border-slate-700 rounded-xl shadow-lg overflow-hidden font-mono text-sm text-slate-200">
        <div class="flex items-center gap-2 px-4 py-2 bg-[#23272e] border-b border-slate-700">
          <span class="w-3 h-3 rounded-full bg-red-500"></span>
          <span class="w-3 h-3 rounded-full bg-yellow-400"></span>
          <span class="w-3 h-3 rounded-full bg-green-500"></span>
          <span class="ml-4 text-sky-300 font-mono text-xs tracking-wide">zsh — nbullock@homelab</span>
        </div>
        <pre id="terminal-body" class="px-4 py-5 min-h-[180px] bg-transparent whitespace-pre-wrap"></pre>
      </div>
    </div>
    <script is:inline>
      // Zsh-style prompt and one-time typing animation
      const lines = [
        `<span class="text-green-400">nbullock@homelab</span> <span class="text-blue-400">~/projects</span> <span class="text-purple-400">main</span> <span class="text-yellow-400">$</span> npx create-astro@latest`,
        `<span class="text-green-400">✔</span> Building something <span class="text-sky-400">awesome</span>...`,
        `<span class="text-yellow-300">→</span> Deploying to <span class="text-blue-400">Cloudflare</span> Workers`,
        `<span class="text-pink-400">★</span> Integrating <span class="text-cyan-300">Tailwind</span> & <span class="text-indigo-300">CMS</span>`,
        `<span class="text-emerald-400">✓</span> Learning. Building. Sharing.`,
      ];
      const term = document.getElementById('terminal-body');
      let i = 0, j = 0;
      function typeLine() {
        if (i >= lines.length) return;
        let line = lines[i];
        let curr = '';
        let tag = false;
        function typeChar() {
          if (j >= line.length) {
            term.innerHTML += curr + '\n';
            i++; j = 0; curr = '';
            setTimeout(typeLine, 350);
            return;
          }
          curr += line[j];
          if (line[j] === '<') tag = true;
          if (line[j] === '>') tag = false;
          j++;
          term.innerHTML = term.innerHTML.replace(/<span class="cursor">.\<\/span\>$/, '') + curr + (tag ? '' : '<span class="cursor">|</span>');
          setTimeout(typeChar, tag ? 0 : 18);
        }
        typeChar();
      }
      if (sessionStorage.getItem('typedTerm') !== '1') {
        term.innerHTML = '';
        typeLine();
        sessionStorage.setItem('typedTerm', '1');
      } else {
        term.innerHTML = lines.join('\n');
      }
    </script>
    <style is:global>
      #terminal pre span.cursor {
        color: #38bdf8;
        animation: blink 1s steps(1) infinite;
      }
      @keyframes blink {
        0%, 50% { opacity: 1; }
        51%, 100% { opacity: 0; }
      }
    </style>

    <div class="flex gap-4 mt-4 mb-8">
      <a href="/projects/" class="btn primary bg-gradient-to-r from-sky-400 to-cyan-400 text-slate-900 font-bold shadow hover:scale-105 transition-transform">
        View Projects
      </a>
      <a href="/about/" class="btn border border-sky-400 text-sky-300 hover:bg-sky-900/30 transition">
        About Me
      </a>
    </div>

    <div class="mt-6 flex flex-wrap gap-3 justify-center">
      <span class="badge bg-sky-800/80 text-sky-200">#Cloudflare</span>
      <span class="badge bg-cyan-800/80 text-cyan-200">#Astro</span>
      <span class="badge bg-blue-800/80 text-blue-200">#Homelab</span>
      <span class="badge bg-indigo-800/80 text-indigo-200">#Tinkering</span>
      <span class="badge bg-emerald-800/80 text-emerald-200">#Proxmox</span>
    </div>
  </section>
</SiteLayout>
